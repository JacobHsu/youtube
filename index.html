<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFrame Player API</title>
</head>
<body>
  <p>Status</p>
	<iframe id="existing-iframe-example"
    width="640" height="360"
    src="https://www.youtube.com/embed/KIViy7L_lo8?enablejsapi=1"
    frameborder="0"
    style="border: solid 4px #37474F"
	></iframe>
	

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-90526148-1', 'auto');
	  ga('send', 'pageview');

	</script>
	<script type="text/javascript">
	  var tag = document.createElement('script');
	  tag.id = 'iframe-demo';
	  tag.src = 'https://www.youtube.com/iframe_api';
	  var firstScriptTag = document.getElementsByTagName('script')[0];
	  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

	  var player;
	  function onYouTubeIframeAPIReady() {
	    player = new YT.Player('existing-iframe-example', {
	        events: {
	          'onReady': onPlayerReady,
	          'onStateChange': onPlayerStateChange
	        }
	    });
	  }
	  function onPlayerReady(event) {
	    document.getElementById('existing-iframe-example').style.borderColor = '#FF6D00';
	  }
	  function changeBorderColor(playerStatus) {
	    var color;
	    if (playerStatus == -1) {
	      color = "#37474F"; // unstarted = gray
	      $("p").html( '-1 (unstarted)' );
	      $("p").css("color", "gray");
	      ga('send', 'event', 'Videos', 'unstarted', '-1 (unstarted)');
	    } else if (playerStatus == 0) {
	      color = "#FFFF00"; // ended = yellow
	      $("p").html( '0 (ended)' );
	      $("p").css("color", "yellow");
	      ga('send', 'event', 'Videos', 'ended', '0 (ended)');
	    } else if (playerStatus == 1) {
	      color = "#33691E"; // playing = green
	      $("p").html( '1 (playing)' );
	      $("p").css("color", "green");
	      ga('send', 'event', 'Videos', 'playing', '1 (playing)');
	    } else if (playerStatus == 2) {
	      color = "#DD2C00"; // paused = red
	      $("p").html( '2 (paused)' );
	      $("p").css("color", "red");
	      ga('send', 'event', 'Videos', 'paused', '2 (paused)');
	    } else if (playerStatus == 3) {
	      color = "#AA00FF"; // buffering = purple
	      $("p").html( '3 (buffering)' );
	      $("p").css("color", "purple");
	      ga('send', 'event', 'Videos', 'buffering', '3 (buffering)');
	    } else if (playerStatus == 5) {
	      color = "#FF6DOO"; // video cued = orange
	      $("p").html( '5 (video cued)' );
	      $("p").css("color", "orange");
	      ga('send', 'event', 'Videos', 'cued', '5 (video cued)');
	    }
	    if (color) {
	      document.getElementById('existing-iframe-example').style.borderColor = color;
	    }
	  }
	  function onPlayerStateChange(event) {
	    changeBorderColor(event.data);
	  }
	</script>


</body>
</html>